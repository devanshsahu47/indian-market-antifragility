@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Power BI Light Theme */
    --background: 30 5% 95%; /* #F3F2F1 */
    --foreground: 0 0% 15%; /* Dark text */

    --card: 0 0% 100%; /* #FFFFFF */
    --card-foreground: 0 0% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 15%;

    --primary: 207 100% 53%; /* #118DFF - Azure Blue */
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 96%; /* Light grey */
    --secondary-foreground: 0 0% 38%; /* #606060 */

    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 38%; /* #606060 */

    --accent: 174 99% 36%; /* #01B8AA - Teal */
    --accent-foreground: 0 0% 100%;

    --destructive: 22 80% 56%; /* #E66C37 - Orange-Red */
    --destructive-foreground: 0 0% 100%;

    --success: 174 99% 36%; /* #01B8AA - Teal */
    --success-foreground: 0 0% 100%;

    --warning: 22 80% 56%; /* #E66C37 */
    --warning-foreground: 0 0% 100%;

    --border: 0 0% 88%; /* #E1E1E1 */
    --input: 0 0% 88%;
    --ring: 207 100% 53%; /* Primary blue focus */

    --radius: 4px;

    /* Power BI Chart Colors */
    --chart-primary: 207 100% 53%; /* #118DFF */
    --chart-secondary: 235 80% 35%; /* #12239E */
    --chart-gain: 174 99% 36%; /* #01B8AA - Teal */
    --chart-loss: 22 80% 56%; /* #E66C37 - Orange-Red */
    --chart-neutral: 0 0% 38%; /* #606060 */
    --chart-accent: 207 100% 53%;
    --chart-index: 0 0% 38%; /* Grey for index */

    /* Sidebar - Filter Pane style */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 0 0% 15%;
    --sidebar-primary: 207 100% 53%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 207 100% 96%;
    --sidebar-accent-foreground: 207 100% 40%;
    --sidebar-border: 0 0% 88%;
    --sidebar-ring: 207 100% 53%;

    --font-sans: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --font-mono: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
  }
}

@layer components {
  /* Power BI Tile Card */
  .pbi-card {
    @apply bg-card rounded border border-border p-4;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  }

  .pbi-card-header {
    @apply text-xs uppercase tracking-wide text-muted-foreground mb-3 font-semibold;
  }

  /* KPI Big Number Style */
  .kpi-value {
    @apply text-3xl font-semibold text-foreground tracking-tight text-center;
  }

  .kpi-label {
    @apply text-xs uppercase tracking-wide text-muted-foreground text-center;
  }

  /* Gain/Loss Colors */
  .gain {
    color: hsl(var(--chart-gain));
  }

  .loss {
    color: hsl(var(--chart-loss));
  }

  .neutral {
    @apply text-muted-foreground;
  }

  /* Power BI Slicer Style */
  .pbi-slicer {
    @apply bg-card border border-border rounded px-3 py-2;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  .pbi-slicer:focus-within {
    @apply ring-2 ring-primary/30 border-primary;
  }

  /* Ticker item in sidebar */
  .ticker-item {
    @apply px-3 py-2 rounded cursor-pointer transition-all duration-150;
    @apply hover:bg-sidebar-accent border border-transparent;
  }

  .ticker-item.active {
    @apply bg-sidebar-accent border-primary/30;
  }

  /* Power BI Tooltip */
  .pbi-tooltip {
    @apply bg-card border border-border rounded p-3;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  }

  /* Crisis badge / Slicer button */
  .crisis-badge {
    @apply px-3 py-1.5 rounded text-xs uppercase tracking-wide font-medium;
    @apply bg-card border border-border text-muted-foreground;
    @apply hover:border-primary/50 transition-all duration-150;
  }

  .crisis-badge.active {
    @apply bg-primary/10 border-primary text-primary;
  }

  /* Scrollbar styling */
  .scrollbar-pbi::-webkit-scrollbar {
    width: 8px;
  }

  .scrollbar-pbi::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  .scrollbar-pbi::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 4px;
  }

  .scrollbar-pbi::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground));
  }

  /* Insight card */
  .insight-card {
    @apply pbi-card;
    border-left: 3px solid hsl(var(--primary));
  }

  /* Data grid */
  .data-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  /* Pulse indicator */
  .pulse-dot {
    @apply w-2 h-2 rounded-full bg-success animate-pulse;
  }
}

@layer utilities {
  .text-gain {
    color: hsl(var(--chart-gain));
  }

  .text-loss {
    color: hsl(var(--chart-loss));
  }

  .bg-gain {
    background-color: hsl(var(--chart-gain));
  }

  .bg-loss {
    background-color: hsl(var(--chart-loss));
  }

  .border-gain {
    border-color: hsl(var(--chart-gain));
  }

  .border-loss {
    border-color: hsl(var(--chart-loss));
  }
}
